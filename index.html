<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NosPlay</title>

<!-- Fonte -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<!-- CSS -->
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/log.css">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="js/firebase.js"></script>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1e88e5">

</head>
<body>

<div class="page">

  <!-- LOGIN -->
  <section id="login" class="section flex-center">
    <h2>Login na NosPlay</h2>
    <div class="login-box">
      <input type="email" id="login-email" placeholder="Email">
      <input type="password" id="login-senha" placeholder="Senha">
      <button id="login-btn">Entrar</button>
      <button id="login-google-btn">Entrar com Google</button>
      <button id="show-register">Criar conta</button>
    </div>
  </section>

  <!-- REGISTRO -->
  <section id="register" class="section flex-center" style="display:none;">
    <h2>Registrar</h2>
    <div class="register-box">
      <input type="email" id="reg-email" placeholder="Email">
      <input type="password" id="reg-senha" placeholder="Senha">
      <button id="reg-btn">Criar conta</button>
      <button id="back-to-login">Voltar</button>
    </div>
  </section>

  <!-- HOME / LISTA DE APPS -->
  <section id="home" class="section" style="display:none;">
    <header>
      <div class="top">
        <div class="logo">NosPlay</div>
        <div class="search">
          <input id="search" placeholder="Pesquisar apps...">
        </div>
      </div>
      <div class="categories" id="cats"></div>
    </header>
    <div class="apps" id="apps"></div>
  </section>

  <!-- DETALHES DO APP -->
  <section id="details" style="display:none;"></section>

  <!-- SOBRE / POL√çTICA -->
  <section id="about" style="display:none;">
    <div class="back" onclick="goHome()">‚Üê Voltar</div>
    <h2>Sobre a NosPlay</h2>
    <p class="desc">
      A NosPlay √© uma plataforma independente para distribui√ß√£o de apps Android.
      N√£o hospedamos arquivos nos nossos servidores.
    </p>
    <h3>Pol√≠tica</h3>
    <p class="desc">
      Todos os aplicativos pertencem aos seus respectivos desenvolvedores.
      Caso seja detentor de direitos e queira remover algum conte√∫do,
      entre em contacto.
    </p>
  </section>

</div>

<!-- PROGRESSO DE DOWNLOAD -->
<div id="download-progress" style="display:none; width:0%; height:24px; background:#2962ff; color:white; text-align:center; line-height:24px; border-radius:4px; margin:10px 0;"></div>

<!-- LIGHTBOX -->
<div id="lightbox">
  <span id="prev-btn" onclick="prevSlide()">&#10094;</span>
  <span id="next-btn" onclick="nextSlide()">&#10095;</span>
  <span class="close" onclick="closeLightbox()">&times;</span>
  <img id="lightbox-img">
</div>

<!-- JS Apps -->
<script src="/apps/HolyPlay.js"></script>
<script src="/js/app.js"></script>
<script src="/js/log.js"></script>

<script>
  // ---------------------------
  // Pesquisa de apps
  // ---------------------------
  document.getElementById("search").addEventListener("input", () => {
    renderApps();
  });

  // ---------------------------
  // PWA
  // ---------------------------
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("sw.js")
        .then(() => console.log("PWA ativa üöÄ"))
        .catch(err => console.log("Erro no SW:", err));
    });
  }
</script>

<footer>
  ¬© 2025 NosPlay ‚Äî Todos os direitos reservados<br>
  <a href="/api/download?tag=V1.2">Baixar NosPlay</a>
  <a href="https://nosplay.netlify.app/" onclick="openAbout()">Sobre / Pol√≠tica</a>
</footer>
</body>
</html>
